/*!
TinyMCE helper module (for jQuery Dirty Forms) | v2.0.0-beta00001 | github.com/snikch/jquery.dirtyforms
(c) 2015 Mal Curtis
License MIT
*/
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,n,e,i){"use strict";var r=":tinymce:not(.dirty-forms-temp)",o='.mceEditor a,.mceMenu a,[name^="mce_"]',f={ignoreSelector:o,isDirty:function(n){var e=!1;return c(n)&&n.filter(r).add(n.find(r)).each(function(){var n=t(this);if("undefined"==typeof n.data("df-tinymce-orig")){if(n.tinymce().isDirty())return e=!0,!1}else{var i=d(n),r=y(i),o=n.data("df-tinymce-orig");if(r!==o)return e=!0,!1}}),e},setClean:function(n){c(n)&&n.filter(r).add(n.find(r)).each(function(){var n=t(this);n.tinymce().isDirty()&&(n.tinymce().isNotDirty=1),a(n)})},rescan:function(n){c(n)&&n.filter(r).add(n.find(r)).each(function(){var n=t(this);"undefined"!=typeof n.data("df-tinymce-orig")&&a(n)})},ignoreAnchorSelector:o};t.DirtyForms.helpers.push(f);var c=function(t){try{return t.filter(r).length>0||t.find(r).length>0}catch(n){return!1}},d=function(t){return t.tinymce().getContent({format:"raw"}).replace(/<br><\/p>/gm,"</p>")},a=function(t){var n=d(t),e=y(n);t.data("df-tinymce-orig",e)},u=function(n){c(n)&&n.filter(r).add(n.find(r)).each(function(){a(t(this))})};t(e).bind("scan.dirtyforms",function(n){var e=t(n.target),i=t('<div style="display:none;" class="dirty-forms-temp"></div>');e.append(i),i.tinymce({oninit:function(){u(e)}})});var y=function(t){var n,e,i,r=0;if(0===t.length)return r;for(n=0,i=t.length;i>n;n++)e=t.charCodeAt(n),r=(r<<5)-r+e,r|=0;return r}});
//# sourceMappingURL=jquery.dirtyforms.helpers.tinymce.min.js.map